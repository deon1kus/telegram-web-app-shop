# ‚úÖ –í–°–ï –ì–û–¢–û–í–û! –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

## üöÄ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Putty

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Putty
2. –í–≤–µ–¥–∏—Ç–µ:
   - **Host:** `194.87.0.193`
   - **Port:** `22`
3. –ù–∞–∂–º–∏—Ç–µ **Open**
4. –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω: `root`
5. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `6BFNsKPHU8`

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã

**–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:** `scripts/AUTO_DEPLOY_COMMANDS.txt`

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞** (Ctrl+A, Ctrl+C)

**–í—Å—Ç–∞–≤—å—Ç–µ –≤ Putty** (–ø—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ –∏–ª–∏ Shift+Insert)

**–ù–∞–∂–º–∏—Ç–µ Enter**

---

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

1. ‚úÖ –°–æ–∑–¥–∞–¥—É—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `routes/telegram` –∏ `utils/telegram`
2. ‚úÖ –°–æ–∑–¥–∞–¥—É—Ç—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã webhook:
   - `routes/telegram/webhook.js`
   - `utils/telegram/parser.js`
   - `utils/telegram/api.js`
   - `utils/telegram/notifications.js`
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`
4. ‚úÖ –ë—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ—É—Ç –≤ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª

–ù–∞–π–¥–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (`app.js`, `server.js`, `index.js`) –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```javascript
const telegramWebhookRouter = require('./routes/telegram/webhook');
app.use('/api/telegram', telegramWebhookRouter);
```

### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î

–û—Ç–∫—Ä–æ–π—Ç–µ `routes/telegram/webhook.js` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –∑–∞–≥–ª—É—à–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `getNextProductSequenceId()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ ID
- `createProductFromTelegram()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –ë–î
- `findCategoryByName()` - –ø–æ–∏—Å–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 3. –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
mysql -u root -p your_database_name < scripts/update-database.sql
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –≤—Ä—É—á–Ω—É—é (—Å–º. `scripts/update-database.sql`)

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL –¥–ª—è HTTPS

Webhook —Ç—Ä–µ–±—É–µ—Ç HTTPS. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ Let's Encrypt:

```bash
apt-get install certbot python3-certbot-nginx
certbot --nginx -d your-domain.com
```

### 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –≤ Telegram

```bash
curl -X POST "https://api.telegram.org/bot7811866862:AAH4z4mpba_o-fRCdgDv09Ej8nTy-QkzId8/setWebhook" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://your-domain.com/api/telegram/webhook",
    "allowed_updates": ["channel_post", "edited_channel_post"]
  }'
```

### 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
pm2 restart telegram-bot
# –∏–ª–∏
systemctl restart telegram-bot
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª `-1003271699368`:
```
üìù –¢–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä

üí∞ –¶–µ–Ω–∞: 10000 —Ç–æ–º–∞–Ω
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–≤–∞—Ä —Å–æ–∑–¥–∞–Ω)
   - ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª–µ (–¥–æ–±–∞–≤–ª–µ–Ω `#product_id`)
   - ‚úÖ –ö–∞–Ω–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `EXECUTE_NOW.md` - –±—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `DEPLOYMENT_BACKEND.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `BACKEND_READY.md` - —á–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `scripts/PUTTY_DEPLOY_INSTRUCTIONS.md` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

**–§–∞–π–ª –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:** `scripts/AUTO_DEPLOY_COMMANDS.txt`  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞:** ~30 —Å–µ–∫—É–Ω–¥


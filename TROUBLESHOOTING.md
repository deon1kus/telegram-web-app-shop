# Решение проблем с черным экраном в Telegram Web App

## Исправленные проблемы

1. ✅ **Ошибка парсинга данных Telegram** - исправлена обработка ошибок в `useTelegramUser.ts`
2. ✅ **Инициализация Telegram Web App** - добавлен вызов `WebApp.ready()` и `WebApp.expand()`
3. ✅ **Улучшена обработка ошибок** - добавлены проверки и сообщения об ошибках

## Возможные причины черного экрана

### 1. Проблема с API URL

Если бэкенд недоступен или URL неправильный, приложение может не загружаться.

**Решение:**
- Создайте файл `.env` в корне проекта
- Добавьте строку: `VITE_API_URL=https://your-api-domain.com`
- Перезапустите приложение

### 2. Проблема с CORS

Если бэкенд не настроен для работы с вашим доменом, могут быть проблемы с CORS.

**Решение:**
- Убедитесь, что бэкенд разрешает запросы с вашего домена
- Проверьте настройки CORS на сервере

### 3. Проблема с данными Telegram

Если приложение не запускается в контексте Telegram Web App, данные пользователя могут отсутствовать.

**Решение:**
- Убедитесь, что приложение открывается через Telegram бота
- Проверьте, что бот правильно настроен в BotFather

### 4. Проблема с сетью

Проверьте подключение к интернету и доступность API.

**Решение:**
- Откройте консоль разработчика в браузере (F12)
- Проверьте вкладку Network на наличие ошибок
- Проверьте вкладку Console на наличие ошибок JavaScript

## Как проверить проблему

1. **Откройте консоль разработчика:**
   - В Telegram: нажмите на три точки → "Открыть в браузере"
   - В браузере нажмите F12
   - Перейдите на вкладку Console

2. **Проверьте ошибки:**
   - Ищите красные сообщения об ошибках
   - Обратите внимание на ошибки сети (404, 500, CORS)

3. **Проверьте данные Telegram:**
   - В консоли выполните: `console.log(window.Telegram)`
   - Должен вывестись объект с данными Telegram Web App

4. **Проверьте sessionStorage:**
   - В консоли выполните: `console.log(sessionStorage.getItem('__telegram__initParams'))`
   - Должны быть данные инициализации Telegram

## Дополнительные шаги

1. **Очистите кеш:**
   - Очистите кеш браузера/Telegram
   - Перезапустите приложение

2. **Проверьте версию Telegram:**
   - Убедитесь, что у вас последняя версия Telegram
   - Telegram Web App требует определенную версию приложения

3. **Проверьте настройки бота:**
   - Убедитесь, что Web App URL правильно настроен в BotFather
   - URL должен быть доступен по HTTPS

## Контакты для поддержки

Если проблема не решена, предоставьте:
- Скриншот консоли с ошибками
- URL вашего API
- Версию Telegram
- Описание проблемы

